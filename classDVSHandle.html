<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DVSHandle class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.9.1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; </center>
<hr><h1>DVSHandle  Class Reference</h1>Object providing access to a DVS driver handle for a DVS video board. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="DVSClasses_8h-source.html">DVSClasses.h</a>&gt;</code>
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classDVSHandle.html#a0">DVSHandle</a> (<a class="el" href="classDVSCard.html">DVSCard</a> *parentcard)  throw (DVSException)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Standard constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classDVSHandle.html#a1">~DVSHandle</a> ()  throw ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Standard destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classDVSHandle.html#a2">operator sv_handle *</a> () const  throw (DVSException)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Implicit typecast to DVS driver API handle.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Obtaining exclusive access to the DVS driver API.</div></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classDVSHandle.html#a3">lock_mutex</a> ()  throw (DVSException)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Locks mutex to prevent others accessing DVS driver API.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classDVSHandle.html#a4">unlock_mutex</a> ()  throw (DVSException)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unlocks mutex, allowing others to access DVS driver API.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="l0" doxytag="DVSHandle::DVSCard"></a>
class&nbsp;</td><td valign=bottom><b>DVSCard</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Object providing access to a DVS driver handle for a DVS video board.
<p>
When creating a DVSHandle object, you specify the parent <a class="el" href="classDVSCard.html">DVSCard</a> object for which it is obtaining the handle.
<p>

<p>
DVSHandle will implicitly typecast to the DVS driver handle datatype <code>sv_handle</code>, and so can be used directly in its place.
<p>

<p>
DVSHandle and <a class="el" href="classDVSCard.html">DVSCard</a> objects provide access to a mutex, allowing obtain exclusive access whilst calling DVS driver API functions.
<p>
A <a class="el" href="classDVSCard.html">DVSCard</a> object is destroyed, all child DVSHandle objects will automatically invalidatate themselves and throw exceptions if attempts are made to use them. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="DVSHandle::DVSHandle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> 
DVSHandle::DVSHandle 
          </td>
          <td class="md">(&nbsp</td>
          <td class="md"><a class="el" href="classDVSCard.html">DVSCard</a> *          </td>
          <td class="mdname"> <em>parentcard</em>          </td>
          <td class="md">)&nbsp;</td>
          <td class="md">  throw (<a class="el" href="classDVSException.html">DVSException</a>)          </td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Standard constructor.
<p>
Creates a DVSHandle object for the supplied <a class="el" href="classDVSCard.html">DVSCard</a> object. You may then use this object as a handle when calling DVS driver API functions. See sv_handle*() for details.<dl compact><dt>
Parameters: <dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>parentcard
</em>&nbsp;</td><td>
A <a class="el" href="classDVSCard.html">DVSCard</a> object (representing access to a DVS video board) for which you want the handle.</td></tr>
</table>
</dl><dl compact><dt>
Exceptions: <dd>
<table border=0 cellspacing=2 cellpadding=0>
</td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="DVSHandle::~DVSHandle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> 
DVSHandle::~DVSHandle 
          </td>
          <td class="md">(&nbsp</td>
          <td class="mdname">          </td>
          <td class="md">)&nbsp;</td>
          <td class="md">  throw ()          </td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Standard destructor.
<p>
Destroys DVSHandle object. <dl compact><dt>
<b>Note: </b><dd>
<ul>
<li> To destroy all DVSHandle objects with a given parent <a class="el" href="classDVSCard.html">DVSCard</a> object, use the <a class="el" href="classDVSCard.html#a2">DVSCard::destroy_CardHandles</a>() method. <li> To destroy all DVSHandle objects whilst destroying all <a class="el" href="classDVSCard.html">DVSCard</a> objects, use the <a class="el" href="classDVSCard.html#d0">DVSCard::destroy_AllCards</a>() method. </ul>
</dl>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="DVSHandle::operator sv_handle *"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> 
DVSHandle::operator sv_handle * 
          </td>
          <td class="md">(&nbsp</td>
          <td class="mdname">          </td>
          <td class="md">)&nbsp;</td>
          <td class="md"> const  throw (<a class="el" href="classDVSException.html">DVSException</a>)          </td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Implicit typecast to DVS driver API handle.
<p>
Pass a DVSHandle object as the handle argument to a DVS driver API function and it will automatically typecast to the required DVS driver handle datatype <code>sv_handle*</code>.<dl compact><dt>
Exceptions: <dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>DVSNullHandleException
</em>&nbsp;</td><td>
 Thrown if the <a class="el" href="classDVSCard.html">DVSCard</a> object for which you obtained this handle has been deleted.
<p>
</td></tr>
</table>
</dl>
<p>
The following example instantiates access to a card, then obtains a handle and calls the <code>sv_live()</code> function in the DVS driver API to enable live video pass-through: <pre>   <a class="el" href="classDVSCard.html">DVSCard</a>   *mycard   = new DVSCard(0);
   DVSHandle *myhandle = new DVSHandle(mycard);

   int retval = sv_live(myhandle);
   if (retval != SV_OK)
     throw <a class="el" href="classDVSDriverException.html">DVSDriverException</a>(retval, "Whilst calling sv_live()", NULL);

   delete myhandle;
   delete mycard;</pre>     </td>
  </tr>
</table>
<a name="a3" doxytag="DVSHandle::lock_mutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> 
void DVSHandle::lock_mutex 
          </td>
          <td class="md">(&nbsp</td>
          <td class="mdname">          </td>
          <td class="md">)&nbsp;</td>
          <td class="md">  throw (<a class="el" href="classDVSException.html">DVSException</a>)          </td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Locks mutex to prevent others accessing DVS driver API.
<p>
Works identically to <a class="el" href="classDVSCard.html#a3">DVSCard::lock_mutex</a>().<dl compact><dt>
Exceptions: <dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>DVSNullHandleException
</em>&nbsp;</td><td>
 Thrown if the <a class="el" href="classDVSCard.html">DVSCard</a> object for which you obtained this handle has been deleted. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="DVSHandle::unlock_mutex"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> 
void DVSHandle::unlock_mutex 
          </td>
          <td class="md">(&nbsp</td>
          <td class="mdname">          </td>
          <td class="md">)&nbsp;</td>
          <td class="md">  throw (<a class="el" href="classDVSException.html">DVSException</a>)          </td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unlocks mutex, allowing others to access DVS driver API.
<p>
Works identically to <a class="el" href="classDVSCard.html#a4">DVSCard::unlock_mutex</a>().<dl compact><dt>
Exceptions: <dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>DVSNullHandleException
</em>&nbsp;</td><td>
 Thrown if the <a class="el" href="classDVSCard.html">DVSCard</a> object for which you obtained this handle has been deleted. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DVSClasses_8h-source.html">DVSClasses.h</a><li>cards_and_handles.cc</ul>
<HR>
<A HREF="mailto:matt.hammond@rd.bbc.co.uk">Matt Hammond</A> BBC R&D.
Class library documentation created using <A HREF="http://www.doxygen.org/">doxygen</a> documentation generator.
